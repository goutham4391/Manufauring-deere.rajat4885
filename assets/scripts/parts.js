$(document).ready(function(){var e,n=!1,l=$("#SBSlocale").attr("value"),t=$("#SBScountryCode").attr("value"),s=$(getLanguage),o=(searchOption=$("span",".SBSdropbtn").text(),searchName=$("span",".SBSdropbtn").attr("name"),$("span",".SBSdropbtn").text(searchOption),$("span",".SBSdropbtn").attr("name",searchName),$(".SBSdropbtn").css("background-color"));function a(e){return!e||0===e.length}function c(e){var t;n?($("#SBSsearchInput").css("border-top","1px solid "+o),$("#SBSsearchInput").css("border-bottom","1px solid "+o),$("#SBSsearchInput").css("border-left","none"),"he"===s.selector&&$("#SBSsearchInput").css("border-left","1px solid "+o),$(window).width()<=767&&$("#SBSsearchInput").css("border-left","1px solid "+o),a(e)||(t=!0)):($(window).width()<=767&&$("#SBSsearchInput").css("border-left","1px solid #C2C2C2"),t=!1),t?"rgb(85, 85, 85)"!=o?($("#SBSsearchIcon").css("color","white"),$("#SBSsearchIcon").css("background-color",o)):($("#SBSsearchIcon").css("color","white"),$("#SBSsearchIcon").css("background-color","rgb(51, 51, 51)")):($("#SBSsearchIcon").css("color",o),$("#SBSsearchIcon").css("background-color","white")),a(e)?$("#SBSclearIcon").css("display","none"):$("#SBSclearIcon").css("display","flex"),$(".div.checker").css("color",o),$(".manufactures").css("color",o),$(".manuf-name").css("color",o)}function r(e,t){e=e.value.toLowerCase(),t=t.value.toLowerCase();return e<t?-1:t<e?1:0}function i(e){e&&$.ajax({url:"https://partscatalog.deere.com/jdrc-services/v1/search/make",type:"POST",data:JSON.stringify({fr:{businessRegion:e},locale:l}),success:function(e){var t=e;t.sort(r);for(var n=t.length,s=0;s<n;s++)$("#makes-manufactures").append("<li><a id="+t[s].label+">"+t[s].value+"</a></li>")},error:function(e){console.log(e)},dataType:"json",contentType:"application/json"})}"Documents"===searchOption&&$(".other-manufactures").css("display","none"),$(".SBSdropbtn").popover({html:!0,placement:function(e,n){var s=this;return setTimeout(function(){s.$tip.css("top",s.$tip.position().top-11),s.$tip.css("border-radius",0),s.$tip.css("min-width",n.getBoundingClientRect().width);var e=$(n.getElementsByClassName("SBSdropdownIcon")).offset().left,t=(document.documentElement.clientWidth<=767&&170<s.$tip.width()?s.$tip.css("left",n.getBoundingClientRect().left-(s.$tip.width()-170)-4):s.$tip.css("left",n.getBoundingClientRect().left),s.$tip.offset().left);s.$arrow.css("left",e-t+17)},0),"bottom"}}).click(function(e){e.preventDefault()}).click(function(e){$(this).popover("toggle"),$(".SBSsearchOptions").css("color",$(this).css("background-color"))}),e=e||$(window).width(),$(window).resize(function(){$(".SBSdropbtn").popover("hide"),(e&&768<=e&&$(this).width()<=767||e&&e<=767&&768<=$(this).width())&&c($("#SBSsearchInput").val()),e=$(this).width()}),$(window).scroll(function(){$(".SBSdropbtn").popover("hide")}),$(".SBSdropbtn").on("shown.bs.popover",function(){var t=$(this);$(".SBSsearchOptions").mouseup(function(e){searchOption=$(this).text(),"document"==(searchName=$(this).attr("name"))?($("#search-parts").prop("checked",!1),$.uniform.update(),$(".other-manufactures").css("display","none"),$(".dropdown-container").css("display","none")):$(".other-manufactures").css("display","inline-block"),$("span",t).text(searchOption),$("span",t).attr("name",searchName),$("#SBSsearchInput").attr("placeholder",$(this).attr("desc")),$(t).popover("hide"),localStorage.setItem("partsLookupSearchType",searchOption),localStorage.setItem("partsLookupSearchName",searchName)})}),c($("#SBSsearchInput").val()),$("#SBSsearchInput").focus(function(){n=!0,c($(this).val())}).blur(function(){n=!1,c($(this).val())}),$("#SBSsearchInput").on("input",function(){var e=$(this);n=!0,c($(e).val())}),$("#SBSclearIcon").click(function(){n=!0,c(""),$("#SBSsearchInput").val(""),$("#SBSsearchInput").focus()}),$("#SBSsearchInput").keyup(function(e){13==e.which&&$("#SBSsearchIcon").click()}),$("#search-parts").change(function(){$(this).is(":checked")?($(".dropdown-container").css("display","block"),$(".manuf-selected-text").text("All")):$(".dropdown-container").css("display","none")}),$(".manufactures").click(function(){$(".dropdown-options").toggleClass("active"),$("ul#makes-manufactures > li > a").css("color",o)}),$("#SBSsearchIcon").click(function(){var e,t,n,s,o=$("#SBSsearchInput").val(),a=$("span",".SBSdropbtn").attr("name"),c=$("span",".SBSdropbtn").attr("target"),r=$("#search-parts").prop("checked"),i=$(".manuf-selected-text").attr("id");t=a,s=!0,0==(e=o).trim().length?(n=$("#SBSsearchTextEmtpy").attr("value"),s=!1):"parts"==t&&e.length<3&&(n=$("#SBSminPNLength").attr("value"),s=!1),s?($(".SBSwarningMessage h4").text(""),$(".SBSwarning").css("display","none")):($(".SBSwarningMessage h4").text(n),$(".SBSwarning").css("display","inline-block")),s&&(t=CONFIG.url,"model"==a?t=r?CONFIG.url+"search/type/"+a+"/manf/"+i+"/term/"+o:(t=CONFIG.url+CONFIG.searchPrefix+"equiptype="+o)+"&locale="+l:"parts"==a?t=r?CONFIG.url+"search/type/"+a+"/manf/"+i+"/term/"+o:(t=CONFIG.url+CONFIG.searchPrefix+"partNo="+o)+"&locale="+l:"document"==a&&(t=(t=CONFIG.url+CONFIG.searchPrefix+"doc="+o)+"&locale="+l),"SameWindow"==c?window.top.location.href=t:window.open(t))}),$.ajax({url:"https://partscatalog.deere.com/jdrc-services/v1/settings/getBusinessRegionAndCountryCode?locale="+l+"&countryCode="+t,type:"GET",success:function(e){i(e.businessRegionId)},error:function(e){console.log(e)},dataType:"json",contentType:"text/plain"}),$("#makes-manufactures").on("click","li a",function(){var e=$(this).text(),t=$(this).attr("id"),n=$(".manuf-selected-text");$(n).text(e),$(n).attr("id",t),$(".dropdown-options").toggleClass("active")}),$(".manuf-name").on("click",function(){var e=$(this).text(),t=$(".manuf-selected-text");$(t).text(e),$(t).attr("id","all"),$(".dropdown-options").toggleClass("active")}),$("#searchResults").keyup(function(e){for(var t,n=document.getElementById("searchResults").value.toUpperCase(),s=document.getElementById("makes-manufactures").getElementsByTagName("li"),o=0;o<s.length;o++)-1<((t=s[o].getElementsByTagName("a")[0]).textContent||t.innerText).toUpperCase().indexOf(n)?s[o].style.display="":s[o].style.display="none"})});